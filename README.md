# java-lotto-precourse

## 로또 과제에서의 기능 객체 목록

- `Lotto` : 로또 한 장(숫자 6개)을 표현하는 객체입니다. (구매한 로또, 당첨 로또 모두)
- `PurchaseInfo` : 사용자의 '구입 금액'을 관리하는 객체
- `WinningLotto` : '당첨 번호 6개(Lotto)'와 '보너스 번호'를 함께 가지는 객체
- `ResultRank` : 1등부터 6등(낙첨)까지의 '등수' 자체를 의미하는 enum클래스
- `LottoCalculator` : 당첨 통계 및 수익률을 계산하는 객체
- `LottoGenerator` : NumberGenerator를 사용하여, 주어진 개수만큼 Lotto 객체 목록을 생성
- `InputHandler` : InputView로 입력을 받고, 유효성을 검증하며 예외 발생 시 재입력을 요청
- `LottoService` : Controller의 요청을 받아, 객체들의 작업을 조합하여 핵심 비즈니스 로직을 수행
- `LottoController` : InputHandler, LottoService, OutputView를 통해 전체 애플리케이션의 흐름 제어

## 객체 간 협력 흐름

1. InputHandler → (사용자 입력을 받아) Controller에 구입 금액 전달
2. Controller → lottoService에 구입 금액 전달하며 구매 개수 계산 요청 (결과 받기)
3. Controller → LottoGenerator에 구매 개수 전달하며 로또 N장 생성 요청
4. Controller → OutputView에 생성된 로또 목록 출력 요청 
5. InputHandler → Controller에 당첨 번호 및 보너스 번호 전달
6. Controller → lottoService에 (생성된 로또 목록, 당첨 번호, 보너스 번호) 전달하며 당첨 통계 계산 요청 (결과 받기)
7. Controller → lottoService에 (당첨 통계, 구입 금액) 전달하며 수익률 계산 요청 (결과 받기)
8. Controller → OutputView에 (당첨 통계, 수익률) 전달하며 최종 결과 출력 요청

## 예외처리 목록

- [x] 당첨 번호입력이 1~45범위가 아닐 경우
- [x] 보너스 번호 입력이 1~45범위가 아닐 경우
- [x] 보너스 번호 입력이 여러 개 일때
- [x] 보너스 번호와 당첨 번호가 같을 경우
- [x] 같은 번호가 2개 이상 있는 경우(중복제거)
- [x] 숫자가 아닌 입력 받을 경우
  - [x] 보너스 번호 입력일때
  - [x] 당첨 번호 입력일때
  - [x] 구매 금액 입력일때

## 테스트 케이스 목록(추가 테스트 갯수 : 18개)
    
### LottoTest
- [x] 입력값이 숫자가 아닐 경우 예외가 발생하는지 테스트
- [x] 입력값이 숫자일 경우 정상 통과하는지 테스트
- [x] 당첨 번호 입력할때 숫자가 아닌 경우 예외가 발생하는지 테스트
- [x] 생성 갯수만큼 로또 번호를 생성하는지 테스트
- [x] 로또번호의 개수가 6개가 넘어가면 예외가 발생하는지 테스트
- [x] 로또 번호에 중복된 숫자가 있으면 예외가 발생하는지 테스트
- [x] 로또 번호가 1~45 까지가 아니면 예외가 발생하는지 테스트
- [x] 당첨 번호랑 보너스 번호랑 중복되는지 테스트
- [x] 6개 일치 시 1등을 반환하는지 테스트
- [x] 5개 + 보너스 일치 시 2등을 반환하는지 테스트
- [x] 5개 일치 시 3등을 반환하는지 테스트
- [x] 4개 일치 시 4등을 반환하는지 테스트
- [x] 3개 일치 시 5등을 반환하는지 테스트
- [x] 2개 이하 일치 시 당첨되지 않는지 테스트

### PurchaseInfoTest
- [x] 구매 금액 입력할 때 천원단위 입력이 아닌 경우 테스트( 3400, 5780, 5555...)
- [x] 구매 금액 입력할 때 천원단위 입력인 경우 테스트

### ProfitCalculatorTest
- [x] 총 당첨 금액과 구매 금액을 기준으로 수익률을 정확히 계산하는지 테스트
- [x] 당첨이 없으면 수익률은 0%를 반환하는지 테스트